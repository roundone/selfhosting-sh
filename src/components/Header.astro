---
import ThemeToggle from "./ThemeToggle.astro";

const navItems = [
  { label: "Apps", href: "/apps/" },
  { label: "Comparisons", href: "/compare/" },
  { label: "Best Of", href: "/best/" },
  { label: "Replace", href: "/replace/" },
  { label: "Hardware", href: "/hardware/" },
  { label: "Foundations", href: "/foundations/" },
];
---

<header
  class="sticky top-0 z-50 bg-deep/95 backdrop-blur border-b border-border"
>
  <nav
    class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 h-16 flex items-center justify-between"
  >
    <a href="/" class="flex items-center gap-2 shrink-0">
      <span
        class="w-3 h-3 rounded-full bg-accent shadow-[0_0_8px_rgba(52,211,153,0.4)]"
      ></span>
      <span
        class="font-[family-name:var(--font-display)] font-bold text-lg text-primary"
        >selfhosting.sh</span
      >
    </a>

    <div class="hidden md:flex items-center gap-6">
      {
        navItems.map(({ label, href }) => (
          <a
            href={href}
            class="text-sm text-secondary hover:text-primary transition-colors"
          >
            {label}
          </a>
        ))
      }
    </div>

    <div class="flex items-center gap-3">
      <ThemeToggle />
      <button
        id="mobile-menu-btn"
        class="md:hidden p-2 text-secondary hover:text-primary"
        aria-label="Toggle menu"
      >
        <svg
          class="w-5 h-5"
          fill="none"
          stroke="currentColor"
          viewBox="0 0 24 24"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M4 6h16M4 12h16M4 18h16"></path>
        </svg>
      </button>
    </div>
  </nav>

  <div
    id="mobile-menu"
    class="hidden md:hidden border-t border-border bg-deep px-4 pb-4"
  >
    {
      navItems.map(({ label, href }) => (
        <a
          href={href}
          class="block py-2 text-secondary hover:text-primary transition-colors"
        >
          {label}
        </a>
      ))
    }
  </div>
</header>

<script>
  document.getElementById("mobile-menu-btn")?.addEventListener("click", () => {
    document.getElementById("mobile-menu")?.classList.toggle("hidden");
  });
</script>

---
interface Props {
  entry: {
    id: string;
    data: Record<string, any>;
  };
  section: string;
}

const { entry, section } = Astro.props;

const sectionUrlMap: Record<string, string> = {
  apps: "apps",
  comparisons: "compare",
  roundups: "best",
  replace: "replace",
  hardware: "hardware",
  foundations: "foundations",
  troubleshooting: "troubleshooting",
};

const urlSection = sectionUrlMap[section] || section;
---

<a
  href={`/${urlSection}/${entry.id}/`}
  class="block p-5 rounded-lg bg-surface border border-border
         hover:border-accent-dim hover:bg-elevated transition-all group"
>
  <h3
    class="font-[family-name:var(--font-display)] font-bold text-primary group-hover:text-accent transition-colors"
  >
    {entry.data.title}
  </h3>
  <p class="mt-2 text-sm text-secondary line-clamp-2">
    {entry.data.description}
  </p>
  <div
    class="mt-3 flex items-center gap-2 text-xs text-muted font-[family-name:var(--font-mono)]"
  >
    {
      entry.data.category && (
        <span class="px-2 py-0.5 rounded bg-elevated">
          {entry.data.category}
        </span>
      )
    }
    {
      "difficulty" in entry.data && entry.data.difficulty && (
        <span>{entry.data.difficulty}</span>
      )
    }
  </div>
</a>
